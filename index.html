<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistert Selvhjelp - Artikkel</title>
    <style>
        /* Grunnleggende design for 친 se ut som en moderne nettside */
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            background-color: #f9f9f9; 
            color: #333; 
        }

        /* Header / Meny */
        header {
            background-color: white;
            border-bottom: 1px solid #ddd;
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
        }

        .logo { font-weight: bold; font-size: 1.2em; color: #0056b3; }

        /* Spr친kvelgeren */
        .language-selector { display: flex; align-items: center; gap: 10px; }
        select { 
            padding: 8px 12px; 
            border-radius: 20px; 
            border: 1px solid #ccc; 
            font-size: 14px; 
            cursor: pointer; 
            background-color: #f0f0f0;
        }
        select:hover { background-color: #e0e0e0; }

        /* Selve artikkelen */
        main {
            max-width: 800px;
            margin: 40px auto;
            background: white;
            padding: 50px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        h1 { color: #2c3e50; margin-top: 0; }
        
        .article-text {
            font-size: 18px;
            line-height: 1.6;
            color: #444;
            white-space: pre-line; /* Bevarer linjeskift fra teksten */
        }

        /* Laste-indikator */
        .loading { opacity: 0.5; pointer-events: none; transition: opacity 0.3s; }
        #loading-text { display: none; font-size: 0.9em; color: #007bff; margin-right: 10px;}

    </style>
</head>
<body>

    <header>
        <div class="logo">Assistert Selvhjelp</div>
        
        <div class="language-selector">
            <span id="loading-text">Oversetter...</span>
            <select id="langSelect" onchange="changeLanguage()">
                <option value="NO">游游 Norsk (Original)</option>
                <option value="EN-GB">游섫릖 Engelsk</option>
                <option value="PL">游왫릖 Polsk</option>
                <option value="DE">游뾇릖 Tysk</option>
                <option value="ES">游쀯릖 Spansk</option>
                <option value="FR">游游 Fransk</option>
            </select>
        </div>
    </header>

    <main id="article-container">
        <h1 id="article-title">Hva er depresjon?</h1>
        
        <div id="article-body" class="article-text">
Det er helt normalt 친 f칮le seg nedfor, trist eller deppa innimellom, og sorg er en naturlig reaksjon n친r vi mister noe eller noen som betyr mye for oss. Depresjon er ikke det samme som 친 f칮le seg nedfor.

Depresjon er en psykisk lidelse som p친virker hva du f칮ler, tenker og gj칮r over en lang periode. Det er en tilstand preget av nedstemthet, lav selvf칮lelse og mindre interesse for aktiviteter som tidligere gav glede. Du kan ogs친 f칮le deg nedtrykt, sint og irritabel, eller tom for energi. Noen f친r ogs친 konsentrasjonsproblemer og husker d친rligere.

... heldigvis er det veldig gode muligheter for 친 bli frisk igjen.

Depresjon kan ramme oss alle. Det er ansl친tt at depresjon rammer 칠n av fire personer i l칮pet av livet, og ulike faktorer kan v칝re utl칮sende. For noen kan tidligere vonde opplevelser v칝re den underliggende 친rsaken. For andre kan det v칝re den n친v칝rende situasjonen, for eksempel tapsopplevelser eller langvarige belastninger, som er den viktigste 친rsaken. Noen er ogs친 mer s친rbare av natur.
        </div>
    </main>

    <input type="hidden" id="apiKey" value="83dcebb3-5c3e-4843-9124-1c4d05f002c8:fx">

    <script>
        // Vi lagrer originalteksten i minnet, slik at vi alltid kan g친 tilbake til norsk uten 친 bruke API
        const originalTitle = document.getElementById('article-title').innerText;
        const originalBody = document.getElementById('article-body').innerText;

        async function changeLanguage() {
            const lang = document.getElementById('langSelect').value;
            const titleEl = document.getElementById('article-title');
            const bodyEl = document.getElementById('article-body');
            const loadingText = document.getElementById('loading-text');
            const apiKey = document.getElementById('apiKey').value;

            // Hvis bruker velger Norsk, tilbakestill til originalen umiddelbart
            if (lang === 'NO') {
                titleEl.innerText = originalTitle;
                bodyEl.innerText = originalBody;
                return;
            }

            // Vis at vi jobber
            document.getElementById('article-container').classList.add('loading');
            loadingText.style.display = 'inline';

            try {
                // Vi m친 oversette Tittel og Innhold hver for seg
                // 1. Oversett Tittel
                const newTitle = await translateString(originalTitle, lang, apiKey);
                titleEl.innerText = newTitle;

                // 2. Oversett Innhold (Vi oversetter alltid FRA originalen for best kvalitet)
                const newBody = await translateString(originalBody, lang, apiKey);
                bodyEl.innerText = newBody;

            } catch (error) {
                alert("Kunne ikke oversette: " + error.message);
                // Hvis det feiler, g친 tilbake til norsk i menyen
                document.getElementById('langSelect').value = 'NO';
            } finally {
                // Ferdig
                document.getElementById('article-container').classList.remove('loading');
                loadingText.style.display = 'none';
            }
        }

        // Hjelpefunksjon som kaller API-et
        async function translateString(textToTranslate, targetLang, key) {
            const deepLUrl = "https://api-free.deepl.com/v2/translate";
            const proxyUrl = "https://corsproxy.io/?" + encodeURIComponent(deepLUrl);

            const params = new URLSearchParams();
            params.append('auth_key', key);
            params.append('text', textToTranslate);
            params.append('target_lang', targetLang); 
            // Vi lar source_lang v칝re auto (slettet linjen)

            const response = await fetch(proxyUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: params
            });

            if (!response.ok) throw new Error("Feil fra API");

            const data = await response.json();
            return data.translations[0].text;
        }
    </script>
</body>
</html>
